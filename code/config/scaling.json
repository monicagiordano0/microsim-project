{
  "Services": [
    {
      "Name": "ui",
      "Endpoints": [
        {
          "Name": "/",
          "Depends": {
            "Service": {
              "Name": "frontend",
              "Endpoint": "/dispatch"
            }
          }
        }
      ]
    },
    {
      "Name": "frontend",
      "Endpoints": [
        {
          "Name": "/dispatch",
          "Depends": {
            "Seq": [
              {
                "Service": {
                  "Name": "customer",
                  "Endpoint": "/customer"
                }
              },
              {
                "Service": {
                  "Name": "driver",
                  "Endpoint": "/FindNearest"
                }
              },
              {
                "Par": {
                  "Items": [
                    {
                      "Service": {
                        "Name": "route",
                        "Endpoint": "/GetShortestRoute"
                      }
                    },
                    {
                      "Service": {
                        "Name": "route",
                        "Endpoint": "/GetShortestRoute"
                      }
                    },
                    {
                      "Service": {
                        "Name": "route",
                        "Endpoint": "/GetShortestRoute"
                      }
                    },
                    {
                      "Service": {
                        "Name": "route",
                        "Endpoint": "/GetShortestRoute"
                      }
                    },
                    {
                      "Service": {
                        "Name": "route",
                        "Endpoint": "/GetShortestRoute"
                      }
                    },
                    {
                      "Service": {
                        "Name": "route",
                        "Endpoint": "/GetShortestRoute"
                      }
                    },
                    {
                      "Service": {
                        "Name": "route",
                        "Endpoint": "/GetShortestRoute"
                      }
                    },
                    {
                      "Service": {
                        "Name": "route",
                        "Endpoint": "/GetShortestRoute"
                      }
                    },
                    {
                      "Service": {
                        "Name": "route",
                        "Endpoint": "/GetShortestRoute"
                      }
                    },
                    {
                      "Service": {
                        "Name": "route",
                        "Endpoint": "/GetShortestRoute"
                      }
                    }
                  ],
                  "MaxPar": 3
                }
              }
            ]
          }
        }
      ]
    },
    {
      "Name": "customer",
      "Endpoints": [
        {
          "Name": "/customer",
          "Depends": {
            "Seq": [
              {
                "Service": {
                  "Name": "mysql"
                }
              }
            ]
          }
        }
      ]
    },
    {
      "Name": "driver",
      "Endpoints": [
        {
          "Name": "/FindNearest",
          "Depends": {
            "Seq": [
              {
                "Service": {
                  "Name": "redis",
                  "Endpoint": "/FindDriverIDs"
                }
              },
              {
                "Service": {
                  "Name": "redis",
                  "Endpoint": "/GetDriver"
                }
              },
              {
                "Service": {
                  "Name": "redis",
                  "Endpoint": "/GetDriver"
                }
              },
              {
                "Service": {
                  "Name": "redis",
                  "Endpoint": "/GetDriver"
                }
              },
              {
                "Service": {
                  "Name": "redis",
                  "Endpoint": "/GetDriver"
                }
              },
              {
                "Service": {
                  "Name": "redis",
                  "Endpoint": "/GetDriver"
                }
              },
              {
                "Service": {
                  "Name": "redis",
                  "Endpoint": "/GetDriver"
                }
              },
              {
                "Service": {
                  "Name": "redis",
                  "Endpoint": "/GetDriver"
                }
              },
              {
                "Service": {
                  "Name": "redis",
                  "Endpoint": "/GetDriver"
                }
              },
              {
                "Service": {
                  "Name": "redis",
                  "Endpoint": "/GetDriver"
                }
              },
              {
                "Service": {
                  "Name": "redis",
                  "Endpoint": "/GetDriver"
                }
              }
            ]
          }
        }
      ],
      "Count": 6
    },
    {
      "Name": "route",
      "Endpoints": [
        {
          "Name": "/GetShortestRoute"
        }
      ],
      "Count": 8
    },
    {
      "Name": "mysql",
      "Endpoints": [
        {
          "Name": "/sql_select"
        }
      ]
    },
    {
      "Name": "redis",
      "Endpoints": [
        {
          "Name": "/FindDriverIDs"
        },
        {
          "Name": "/GetDriver",
           "Perf": {
            "Latency": null,
            "Failure": {
              "Probability": 0.2,
              "Messages": [
                "redis timeout",
                "redis error"
              ]
            }
          }
        }
      ]
    }
  ],
  "TestName": "scaling",
  "TestDuration": 45,
  "TestRunners": 8,
  "Repeats": 100,
  "SleepBetweenRequests": 50
}
